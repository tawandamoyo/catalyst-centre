/* Import Google Fonts: Poppins for headings, Lato for body */
@import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Color Mapping Assumption (define these in tailwind.config.js):
primary: Bright Green (#6ECB5F) - Main CTA, links
secondary: Deep Blue (#2A3A8D) - Headings, dark backgrounds (e.g., footer)
accent: Gold/Yellow-Orange (#F5A623) - Secondary highlights, potentially hover states
light: Off-White (#FFFFFF) - Lightest backgrounds
neutral: Light Grey (#F4F5F7) - Default light backgrounds
dark: Dark Grey/Charcoal (#4A4A4A) - Body text, secondary elements
neutralAlt: A slightly different grey (keep if needed, or map to neutral)
*/

@layer base {
    body {
        /* Apply Lato as the default body font, default text color dark grey */
        @apply font-body text-dark text-base leading-relaxed; /* Increased default leading */
    }
    h1,
    .h1,
    h2,
    .h2,
    h3,
    .h3,
    h4,
    .h4,
    h5,
    .h5,
    h6,
    .h6 {
        /* Apply Poppins as the heading font, default color deep blue */
        @apply font-heading font-bold text-secondary break-words; /* Use font-bold for headings */
        line-height: 1.3; /* Slightly increased heading line-height */
    }

    /* Set base heading sizes (example) - Adjust as needed */
    h1, .h1 { @apply text-4xl md:text-5xl; }
    h2, .h2 { @apply text-3xl md:text-4xl; }
    h3, .h3 { @apply text-2xl md:text-3xl; }
    h4, .h4 { @apply text-xl md:text-2xl; }
    h5, .h5 { @apply text-lg md:text-xl; }
    h6, .h6 { @apply text-base md:text-lg; }

    /* Improve spacing */
    p {
       @apply mb-4; /* Add default bottom margin to paragraphs */
    }
}

@layer components {
    /* Styling for markdown content */
    .sb-markdown {
        @apply leading-relaxed; /* Keep relaxed leading for readability */
        
        /* Set default link color to primary (Green) */
        a {
            @apply text-primary underline transition duration-200 ease-in hover:text-accent; /* Change hover to accent (Gold) */
        }
        /* Keep bold and italic styles */
        b,
        strong {
            @apply font-bold;
        }
        em {
            @apply italic;
        }

        /* Adjust spacing for elements within markdown */
        * + * {
            margin-top: 1em; /* Slightly reduced default spacing */
        }
        h1, h2, h3, h4, h5, h6 {
            margin-top: 2.5em; /* Adjusted heading top margin */
            margin-bottom: 1em; /* Added heading bottom margin */
            &:first-child {
                margin-top: 0;
            }
        }
        h1+h2, h2+h3, h3+h4, h4+h5, h5+h6 {
            margin-top: 1em; /* Reduced spacing between consecutive headings */
        }
        
        /* Keep list styles */
        ol {
            @apply list-decimal;
            padding-left: 1.5em; /* Slightly increased padding */
            margin-top: 1em;
        }
        ul {
            @apply list-disc;
            padding-left: 1.5em; /* Slightly increased padding */
             margin-top: 1em;
        }
        li > ul, li > ol {
            margin: 0.5em 0 0 1.5em; /* Indent nested lists */
        }
        li + li {
            margin-top: 0.25rem; /* Reduced space between list items */
        }

        /* Keep blockquote, pre, hr, table styles - adjust colors if needed */
        blockquote {
            @apply border-l-4 border-primary pl-4 italic; /* Use primary color for border */
            font-size: 1.1em; 
            line-height: 1.5;
            padding-left: 1em;
            margin-top: 2em;
            margin-bottom: 2em;
        }
         pre {
            @apply border border-neutralAlt bg-neutralAlt/30 rounded p-4 overflow-x-auto leading-normal text-sm; /* Style code blocks */
             margin-top: 2em;
            margin-bottom: 2em;
        }
        hr {
             @apply bg-neutralAlt border-0 h-px my-8; /* Use neutralAlt for divider */
        }
         figcaption {
            @apply text-sm text-dark/70 mt-2 text-center; /* Style image captions */
        }
        table {
             @apply border border-neutralAlt border-collapse text-left w-full my-8; 
        }
         caption {
             @apply text-left text-sm mb-2 text-dark/70; 
        }
         th, td {
             @apply border-r border-b border-neutralAlt p-3 align-top; 
        }
         th {
             @apply font-bold bg-neutral/50; /* Use Poppins bold */
        }
    }

    /* Buttons */
    .sb-component-button {
        /* Base button styles - added padding, font */
        @apply inline-flex justify-center items-center text-center border font-body font-bold py-2 px-6 rounded shadow-sm transition duration-200 ease-in hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2;
    }

    /* Links */
    .sb-component-link {
        @apply inline-flex justify-center items-center text-center font-body font-bold transition duration-200 ease-linear; /* Use bold for standalone links */
    }
    .sb-component-link-primary {
        /* Primary link uses primary color (Green), hovers to accent (Gold) */
        @apply text-primary hover:text-accent hover:underline;
    }
    .sb-component-link-secondary {
         /* Secondary link uses current text color, hovers to primary (Green) */
        @apply text-current hover:text-primary;
    }

    /* Form controls - Minor adjustments */
    option {
        color: initial; /* Keep default */
    }
    /* Basic input styling (assuming default Tailwind form plugin is not heavily customized here) */
    .sb-input, .sb-select, .sb-textarea {
       @apply block w-full px-3 py-2 border border-neutralAlt rounded shadow-sm focus:outline-none focus:ring-primary focus:border-primary sm:text-sm;
    }
     .sb-checkbox:checked + .sb-label:before {
        content: '\2713';
         @apply inline-block text-primary mr-2; /* Style checkbox tick */
    }
    .sb-label {
       @apply inline-flex items-center;
    }


    /* Image gallery & Carousel - Keep existing structural styles, adjust colors in palette sections */
     .sb-image-strip-track { min-width: 160rem; }
     .sb-image-strip-content { min-width: 80rem; }
     .sb-carousel-dot { @apply w-3 h-3 cursor-pointer rounded-full mx-1; } /* Smaller dots */
     .sb-carousel-tab-title {
         @apply cursor-pointer opacity-50 max-w-xs text-sm font-medium; /* Adjusted style */
         /* Keep text overflow styles */
         display: -webkit-box; line-height: 1.4; max-height: 2.8em; overflow-y: hidden; text-overflow: ellipsis; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
    }
     .sb-carousel-tab-title-active { @apply opacity-100; }


    /* --- Updated Color Palettes --- */

    /* Light Background, Dark Text */
    .bg-light-fg-dark,
    .sb-card.bg-light-fg-dark {
        @apply text-dark bg-light; /* text-neutral-dark bg-neutral-white */
        .sb-input, .sb-select, .sb-textarea { @apply placeholder-dark/50 border-neutralAlt; }
        .sb-component-button-primary { @apply bg-primary border-primary text-light hover:bg-primary/90 focus:ring-primary; } /* Green button */
        .sb-component-button-secondary { @apply border-dark text-dark hover:bg-neutral focus:ring-dark; } /* Dark outline */
        .sb-component-link-secondary { @apply text-dark hover:text-primary; }
        .sb-image-strip-wrap { &:before, &:after { @apply from-transparent to-light; } } /* Fade matches bg */
        .sb-divider, .sb-footer-bottom { @apply border-neutral; } /* Light grey divider */
        .sb-carousel-prev, .sb-carousel-next { @apply bg-dark/80 text-light hover:bg-dark; }
        .sb-carousel-dot { @apply bg-dark/20; }
        .sb-carousel-dot-active { @apply bg-dark; }
        h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6 { @apply text-secondary; } /* Deep blue headings */
    }

    /* Neutral Background, Dark Text */
    .bg-neutral-fg-dark,
    .sb-card.bg-neutral-fg-dark {
        @apply text-dark bg-neutral; /* text-neutral-dark bg-neutral-light */
        .sb-input, .sb-select, .sb-textarea { @apply placeholder-dark/50 border-neutralAlt; }
        .sb-component-button-primary { @apply bg-primary border-primary text-light hover:bg-primary/90 focus:ring-primary; } /* Green button */
        .sb-component-button-secondary { @apply border-dark text-dark hover:bg-neutralAlt focus:ring-dark; } /* Dark outline */
         .sb-component-link-secondary { @apply text-dark hover:text-primary; }
        .sb-image-strip-wrap { &:before, &:after { @apply from-transparent to-neutral; } }
        .sb-divider, .sb-footer-bottom { @apply border-neutralAlt; } /* Slightly darker divider */
        .sb-carousel-prev, .sb-carousel-next { @apply bg-dark/80 text-light hover:bg-dark; }
        .sb-carousel-dot { @apply bg-dark/20; }
        .sb-carousel-dot-active { @apply bg-dark; }
        h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6 { @apply text-secondary; } /* Deep blue headings */
    }

    /* Dark Background (Deep Blue), Light Text */
    .bg-dark-fg-light,
    .sb-card.bg-dark-fg-light {
        @apply text-light bg-secondary; /* text-neutral-white bg-secondary (Deep Blue) */
        .sb-input, .sb-select, .sb-textarea { @apply bg-secondary border-light/30 placeholder-light/50 text-light focus:border-light focus:ring-light; } /* Adjust form field contrast */
        .sb-component-button-primary { @apply bg-primary border-primary text-light hover:bg-primary/90 focus:ring-primary; } /* Green button */
        .sb-component-button-secondary { @apply border-light text-light hover:bg-light/10 focus:ring-light; } /* Light outline */
        /* Ensure links are visible */
        a { @apply text-primary hover:text-accent; } /* Green links */
        .sb-component-link-primary { @apply text-primary hover:text-accent hover:underline; }
        .sb-component-link-secondary { @apply text-light hover:text-primary; } /* White links */
        .sb-image-strip-wrap { &:before, &:after { @apply from-transparent to-secondary; } } /* Fade matches bg */
        .sb-divider, .sb-footer-bottom { @apply border-light/30; } /* Lighter divider */
        .sb-carousel-prev, .sb-carousel-next { @apply bg-light/80 text-secondary hover:bg-light; } /* Light controls */
        .sb-carousel-dot { @apply bg-light/30; }
        .sb-carousel-dot-active { @apply bg-light; }
        /* Headings should be light/white on dark background */
        h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6 { @apply text-light; }
    }

    /* Only for cards - NeutralAlt Background */
    .bg-neutralAlt-fg-dark { /* Assuming neutralAlt is a mid-grey */
        @apply text-dark bg-neutralAlt;
        .sb-component-button-primary { @apply bg-primary border-primary text-light hover:bg-primary/90 focus:ring-primary; }
        .sb-component-button-secondary { @apply border-dark text-dark hover:bg-neutralAlt/60 focus:ring-dark; }
         h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6 { @apply text-secondary; } /* Deep blue headings */
    }
}

/* Keep utility layer and animations */
@layer utilities {
    .underline-line-through { text-decoration-line: underline line-through }
    .sb-animate-slide-left { animation-name: slideLeft; animation-duration: var(--sb-slide-speed, 80s); animation-timing-function: linear; animation-iteration-count: infinite; }
    @keyframes slideLeft { from { transform: translate3d(0,0,0) } to { transform: translate3d(-50%,0,0) } }
    .sb-animate-slide-right { animation-name: slideRight; animation-duration: var(--sb-slide-speed, 80s); animation-timing-function: linear; animation-iteration-count: infinite; }
    @keyframes slideRight { from { transform: translate3d(-50%,0,0) } to { transform: translate3d(0,0,0) } }

    /* Add font family utilities if not defined in theme */
     .font-body { font-family: 'Lato', sans-serif; }
     .font-heading { font-family: 'Poppins', sans-serif; }
}